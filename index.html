<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Corniel Realty | Legal & Real Estate Expertise</title>
  <meta name="description" content="Professional legal and real estate services in the Dominican Republic.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto', sans-serif; color: #333; }
    h1, h2, h3, h4 { font-family: 'Playfair Display', serif; }
    .navbar { background-color: #002147; }
    .navbar-brand img { max-height: 80px; } /* Bigger logo size */
    .hero { 
      background: linear-gradient(rgba(0, 33, 71, 0.7), rgba(0, 33, 71, 0.7)), url('office.jpg');
      background-size: cover; background-position: center; color: white; padding: 150px 0; 
    }
    .section-title { color: #002147; }
    .property-card { transition: transform 0.3s; }
    .property-card:hover { transform: translateY(-10px); }
    .btn-primary { background-color: #374785; border: none; }
    .btn-primary:hover { background-color: #24335c; }
  </style>
</head>
<body>

  <!-- Navbar with Logo -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="logo.png" alt="Corniel Realty Logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
          <li class="nav-item"><a class="nav-link" href="#properties">Properties</a></li>
          <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
          <li class="nav-item"><a class="nav-link" href="#team">Team</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section id="home" class="hero text-center">
    <div class="container">
      <h1 class="display-4 fw-bold">Trusted Legal & Real Estate Expertise</h1>
      <p class="lead mb-4">Comprehensive solutions for property transactions and legal needs in the Dominican Republic.</p>
      <a href="#contact" class="btn btn-primary btn-lg">Schedule a Consultation</a>
    </div>
  </section>

  <!-- Featured Properties (Dynamic - First 3) -->
  <section id="properties" class="py-5 bg-light">
    <div class="container">
      <h2 class="text-center section-title mb-5">Featured Properties</h2>
      <div class="row" id="featured-container"></div>
      <div class="text-center mt-5">
        <a href="properties.html" class="btn btn-outline-primary btn-lg">View All Properties â†’</a>
      </div>
    </div>
  </section>

  <!-- Other sections (Services, About, Team, Contact) - unchanged, add your original code here -->

  <!-- JavaScript for Dynamic Featured Listings -->
  <script>
    const featuredContainer = document.getElementById('featured-container');

    fetch('https://api.github.com/repos/chinosniper/Corniel-Realty/contents/_properties')
      .then(res => res.json())
      .then(files => {
        const mdFiles = files.filter(f => f.name.endsWith('.md'));
        mdFiles.slice(0, 3).forEach(file => {  // Only first 3
          fetch(file.download_url)
            .then(res => res.text())
            .then(md => {
              const front = parseFrontMatter(md);
              const card = document.createElement('div');
              card.className = 'col-md-6 col-lg-4 mb-5';
              card.innerHTML = `
                <div class="card property-card border-0 shadow h-100">
                  <img src="${front.image || 'https://via.placeholder.com/400x300'}" class="card-img-top" alt="${front.title}" style="height: 300px; object-fit: cover;">
                  <div class="card-body d-flex flex-column">
                    <h3 class="card-title">${front.title || 'Untitled Property'}</h3>
                    <p class="text-primary fw-bold fs-3">${front.price || 'Contact for Price'}</p>
                    <p><strong>Location:</strong> ${front.location || 'N/A'}</p>
                    <p>${front.description ? front.description.substring(0, 100) + '...' : ''}</p>
                    <a href="#contact" class="btn btn-primary mt-auto">Inquire Now</a>
                  </div>
                </div>
              `;
              featuredContainer.appendChild(card);
            });
        });
      })
      .catch(() => {
        featuredContainer.innerHTML = '<p class="text-center text-muted">Loading featured properties...</p>';
      });

    function parseFrontMatter(md) {
      const match = md.match(/---\n([\s\S]*?)\n---\n([\s\S]*)/);
      if (!match) return {};
      const fm = match[1];
      const body = match[2].trim();
      const front = {};
      fm.split('\n').forEach(line => {
        const [key, ...val] = line.split(':');
        if (key.trim()) front[key.trim()] = val.join(':').trim();
      });
      front.description = body;
      return front;
    }
  </script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
